#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
OPR ê³µë¶€ ë…¸í•˜ìš° ì œì‹œ ì‹œìŠ¤í…œ
- ì±„ì  ë°©ì‹ ê¸°ë°˜ í•™ìŠµ ì „ëµ
- ê³ ë“ì  ì‘ì„± íŒ
- ë‹¨ê³„ë³„ í•™ìŠµ ê°€ì´ë“œ
"""

from typing import List, Dict
from dataclasses import dataclass
import json


@dataclass
class StudyTip:
    """í•™ìŠµ íŒ"""
    category: str
    title: str
    description: str
    examples: List[str]
    importance: str  # high, medium, low


class StudyGuideSystem:
    """ê³µë¶€ ë…¸í•˜ìš° ì‹œìŠ¤í…œ"""

    def __init__(self):
        self.tips = []
        self.grading_insights = {}
        self.writing_strategies = {}
        self._load_study_materials()

    def _load_study_materials(self):
        """í•™ìŠµ ìë£Œ ë¡œë“œ"""

        # ì±„ì  ë°©ì‹ ì´í•´
        self.grading_insights = {
            "ì±„ì ì_í™˜ê²½": {
                "ì„¤ëª…": "ì±„ì ìëŠ” 4ëª…ì´ í•œ ì¡°ë¡œ êµ¬ì„±ë˜ì–´ ê°œë³„ ëª¨ë‹ˆí„° í™”ë©´ì„ ë³´ê³  ì±„ì ",
                "íŠ¹ì§•": [
                    "200ëª… ë‹µì•ˆì„ ì§§ì€ ì‹œê°„ì— ì±„ì í•´ì•¼ í•¨",
                    "ëª¨ë‹ˆí„° í™”ë©´ì„ ë³´ê³  ë§ˆìš°ìŠ¤ë¡œ ì ìˆ˜ë¥¼ ê·¸ë¦¼",
                    "í•˜ë£¨ì¢…ì¼ ê³„ì† ì§‘ì¤‘í•  ìˆ˜ ì—†ìŒ"
                ],
                "ì „ëµ": "ë‹µì•ˆì— ìˆëŠ” í‚¤ì›Œë“œë¥¼ ë³´ê³  ì±„ì í•˜ê²Œ ë¨ â†’ í‚¤ì›Œë“œ ì¤‘ì‹¬ ì‘ì„± í•„ìˆ˜!"
            },
            "ì±„ì _í”„ë¡œì„¸ìŠ¤": {
                "ì›”ìš”ì¼_ì˜¤ì „": "ì±„ì ì ìŠ¤ìŠ¤ë¡œ ë¬¸ì œë¥¼ í’€ì–´ë´„ (1ì‹œê°„)",
                "ì›”ìš”ì¼_ì¤‘ë°˜": "ì‹œí—˜ ì¶œì œìê°€ ë¬¸ì œì¶œì œ ì˜ë„ ì„¤ëª… ë° ëª¨ë²”ë‹µì•ˆ ì œê³µ",
                "ì›”ìš”ì¼_ì˜¤í›„": "ê·¸ë£¹ë³„ë¡œ ìµœì¢… ë‹µì•ˆ ì‘ì„± (í† ë¡  í›„)",
                "ì›”~ëª©": "ì±„ì  ì§„í–‰ (ì›”ìš”ì¼ ì˜¤í›„~ëª©ìš”ì¼ ì˜¤ì „)",
                "ì£¼ì˜ì‚¬í•­": "ìµœì¢… ë‹µì•ˆì€ ì±„ì í•˜ë©´ì„œ ë³€ê²½ë  ìˆ˜ë„ ìˆìŒ (ë³€ê²½ë˜ë©´ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì±„ì )"
            },
            "ì±„ì _ê¸°ì¤€": {
                "ë…¼ë¦¬ì •í™•ì„±": {
                    "ë°°ì ": 40,
                    "ë°©ì‹": "ë‹µì•ˆì— ìˆëŠ” ë‹¨ì–´ëŠ” ê°€ì , ê¸ˆì§€ì–´ ë‹¨ì–´ëŠ” ê°ì ",
                    "íŠ¹ì§•": "í‚¤ì›Œë“œ ë§¤ì¹­ ì¤‘ì‹¬"
                },
                "ëª…í™•ê°„ê²°ì„±": {
                    "ë°°ì ": 30,
                    "ë°©ì‹": "S A B C D ë¡œ êµ¬ë¶„í•´ì„œ ì±„ì ì ê°œë³„ë¡œ ì±„ì ",
                    "íŠ¹ì§•": "2ë‹¨ê³„ ì´ìƒ ì°¨ì´ë‚˜ë©´ ìƒì˜ í›„ ì ìˆ˜ ì¡°ì •"
                },
                "ì™„ê²°ì„±": {
                    "ë°°ì ": 30,
                    "ë°©ì‹": "S A B C D ë¡œ êµ¬ë¶„í•´ì„œ ì±„ì ì ê°œë³„ë¡œ ì±„ì ",
                    "íŠ¹ì§•": "2ë‹¨ê³„ ì´ìƒ ì°¨ì´ë‚˜ë©´ ìƒì˜ í›„ ì ìˆ˜ ì¡°ì •"
                }
            }
        }

        # í•µì‹¬ ì‘ì„± íŒ
        self.writing_strategies = {
            "í‚¤ì›Œë“œ_ì „ëµ": {
                "ì›ì¹™": "ë¬¸ì œì—ì„œ í‚¤ì›Œë“œë¥¼ ì˜ ê³¨ë¼ì„œ ì‘ì„±",
                "ë°©ë²•": [
                    "ìµœëŒ€í•œ ë¬¸ì œì—ì„œ í‚¤ì›Œë“œë¥¼ ì¶”ì¶œ",
                    "ì • ëª¨ë¥´ê² ìœ¼ë©´ ìµœëŒ€í•œ í‚¤ì›Œë“œë¥¼ ë§ì´ ì ì–´ì„œ ëª¨ë²”ë‹µì•ˆ ë‹¨ì–´ê°€ ë“¤ì–´ê°€ê²Œ ì‘ì„±",
                    "ëª¨ë“  ë‹¨ì–´ëŠ” ë¬¸ì œì§€ì— ìˆëŠ” ë‹¨ì–´ë§Œ ì‚¬ìš©",
                    "ë¬¸ì œì§€ì— ìˆëŠ” ë‹¨ì–´ ê·¸ëŒ€ë¡œ ì‘ì„±"
                ],
                "ê¸ˆì§€ì‚¬í•­": "ê¸ˆì§€ì–´ ì‚¬ìš© ì‹œ ê°ì  (ë©”ì‹ ì €, ìª½ì§€ ë“±ì—ì„œ ì£¼ì˜ì‚¬í•­ í™•ì¸)"
            },
            "êµ¬ì¡°_ì „ëµ": {
                "ì›ì¹™": "ëª…í™•Â·ê°„ê²°ì„±ê³¼ ì™„ê²°ì„±ì—ì„œ ì „ì²´ì ì¸ ë³´ê³ ì„œ êµ¬ì„± í™•ì¸",
                "ë°©ë²•": [
                    "í‚¤ì›Œë“œê°€ ì˜ ë“¤ì–´ê°€ ìˆìœ¼ë©´ ì •ë§ ëˆ„ê°€ ë´ë„ ì´ìƒí•˜ê²Œ ì‘ì„±í•œ ê²Œ ì•„ë‹ˆë©´ ì¢‹ì€ ì ìˆ˜",
                    "ë‹¨ìˆœ í‚¤ì›Œë“œ ìœ„ì£¼ê°€ ì•„ë‹Œ ë…¼ë¦¬ì  ë¬¸ì¥ êµ¬ì„±",
                    "ë¶ˆí•„ìš”í•œ ë§ì´ë‚˜ ë¬¸ì¥ì´ ì–´ìƒ‰í•˜ì§€ ì•Šê²Œ",
                    "ì „ì²´ì ì¸ ë³´ê³ ì„œ êµ¬ì„±ì„ ì˜ ê°–ì¶”ê¸°"
                ]
            },
            "ë¬¸ì œ_ë¶„ì„_ì „ëµ": {
                "ì œëª©_ëŒ€ì œëª©": "ë¬¸ì œì—ì„œ ì œëª©, ëŒ€ì œëª© ë“± í‹€ì„ ì¡ê³  ì‹œì‘",
                "CEO_ë©”ì‹œì§€": "ì¶”ì§„ë°°ê²½, í–¥í›„ ì¼ì •ì— ëŒ€í•œ ë‚´ìš© ì–¸ê¸‰ â†’ ì²´í¬!",
                "ì²˜ì¥_ë¶€ì¥_ë©”ì¼": "ì¶”ì§„ë°°ê²½, í–¥í›„ ê³„íš ì¶”ì¶œ ê°€ëŠ¥",
                "ë¶€ì¥_ì»´ì¼€": "ë³´í†µ 2, 3ë²ˆ ë³´ê³ ì„œ í‹€ ì¡í˜ â†’ ê¼­ì§€ì™€ ë°©í–¥ì„± í™•ì¸",
                "ì œì‹œìë£Œ_ìˆœì„œ": "ì¹œì ˆí•˜ê²Œ ìˆœì„œëŒ€ë¡œ ì£¼ì§€ ì•ŠìŒ â†’ í˜•ê´‘íœìœ¼ë¡œ ìƒ‰ê¹” êµ¬ë¶„ ì¶”ì²œ"
            }
        }

        # í•™ìŠµ íŒ ìƒì„±
        self._create_study_tips()

    def _create_study_tips(self):
        """í•™ìŠµ íŒ ìƒì„±"""

        # ê³ ì¤‘ìš”ë„ íŒ
        self.tips.extend([
            StudyTip(
                category="í‚¤ì›Œë“œ_ì‘ì„±ë²•",
                title="ì œì‹œë¬¸ì˜ ë‹¨ì–´ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ë¼",
                description="ëª¨ë“  ë‹¨ì–´ëŠ” ë¬¸ì œì§€ì— ìˆëŠ” ë‹¨ì–´ë§Œ ì“°ê³ , ìˆëŠ” ê·¸ëŒ€ë¡œ ì‘ì„±í•˜ëŠ” ê²Œ ì¤‘ìš”í•©ë‹ˆë‹¤.",
                examples=[
                    "âŒ ì˜¨ì‹¤ê°€ìŠ¤ ì–µì œ â†’ âœ… ì˜¨ì‹¤ê°€ìŠ¤ ì €ê°",
                    "âŒ ì¹œí™˜ê²½ ê¸°ìˆ ìˆ˜ì¤€ ë¶€ì¡± â†’ âœ… ì¹œí™˜ê²½ ê¸°ìˆ ìˆ˜ì¤€ ë¯¸í¡",
                    "ì œì‹œë¬¸: 'ì¬ìƒì—ë„ˆì§€' ì‚¬ìš© â†’ ë‹µì•ˆ: 'ì¬ìƒì—ë„ˆì§€' (ë™ì¼í•˜ê²Œ)"
                ],
                importance="high"
            ),
            StudyTip(
                category="í‚¤ì›Œë“œ_ì‘ì„±ë²•",
                title="í‚¤ì›Œë“œë¥¼ ìµœëŒ€í•œ ë§ì´ ë„£ì–´ë¼",
                description="ì±„ì ìëŠ” 200ëª… ë‹µì•ˆì„ ë¹ ë¥´ê²Œ ì±„ì í•´ì•¼ í•˜ë¯€ë¡œ, ë‹µì•ˆì— ìˆëŠ” í‚¤ì›Œë“œë¥¼ ë³´ê³  ì±„ì í•©ë‹ˆë‹¤.",
                examples=[
                    "ì • ëª¨ë¥´ê² ìœ¼ë©´ ê´€ë ¨ í‚¤ì›Œë“œë¥¼ ìµœëŒ€í•œ ë§ì´ ì‘ì„±",
                    "ë¬¸ì œ ì§€ë¬¸ì—ì„œ ì¤‘ìš”í•´ ë³´ì´ëŠ” ë‹¨ì–´ëŠ” ëª¨ë‘ í¬í•¨",
                    "ë‹¤ë§Œ ê¸ˆì§€ì–´ëŠ” ë°˜ë“œì‹œ í”¼í•´ì•¼ í•¨ (ê°ì )"
                ],
                importance="high"
            ),
            StudyTip(
                category="ë¬¸ì œ_ë¶„ì„",
                title="ì‹œí—˜ì§€ ë°›ìœ¼ë©´ ë¨¼ì € ì œëª©, ëŒ€ì œëª© ì‘ì„±",
                description="ë¬¸ì œì—ì„œ ì œëª©, ëŒ€ì œëª© ë“± í‹€ì„ ì¡ê³  ì‹œì‘í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.",
                examples=[
                    "1ë‹¨ê³„: ì‹œí—˜ì§€ ë°›ìœ¼ë©´ ì œëª©, ëŒ€ì œëª© ë¨¼ì € ì¨ë†“ê¸°",
                    "2ë‹¨ê³„: ì½ìœ¼ë©´ì„œ ê° ì„¹ì…˜ì— ì±„ì›Œë‚˜ê°€ê¸°",
                    "3ë‹¨ê³„: ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆëŠ” í•­ëª©ë“¤ì€ ë¨¼ì € ì¨ë†“ê³  ì±„ì›Œë‚˜ê°€ê¸°"
                ],
                importance="high"
            ),
            StudyTip(
                category="ë¬¸ì œ_ë¶„ì„",
                title="CEO ë©”ì‹œì§€ì—ì„œ ì¶”ì§„ë°°ê²½ê³¼ í–¥í›„ ì¼ì • ì¶”ì¶œ",
                description="CEO ë©”ì‹œì§€ëŠ” ì£¼ë¡œ ì¶”ì§„ë°°ê²½, í–¥í›„ ì¼ì •ì— ëŒ€í•œ ë‚´ìš©ì„ ì–¸ê¸‰í•©ë‹ˆë‹¤.",
                examples=[
                    "CEOê°€ '~ë¥¼ í•˜ìê³  í•˜ë©´' â†’ ë¬´ì¡°ê±´ í–¥í›„ ê³„íš",
                    "ì „ì‚¬ í–‰ì‚¬, í† ë¡ íšŒ, ì›Œí¬ìƒµ ê°œìµœ ë“± â†’ í–¥í›„ ê³„íš",
                    "CEO ì¤‘ì‹¬ì˜ ì¼ì •ìœ¼ë¡œ ì •ë¦¬ (ì˜ˆ: 12.30 CEO ë³´ê³ )"
                ],
                importance="high"
            ),
            StudyTip(
                category="ë¬¸ì œ_ë¶„ì„",
                title="ë¶€ì¥ê³¼ ì»´ì¼€ì—ì„œ ë³´ê³ ì„œ í‹€ í™•ì¸",
                description="ë³´í†µ 2, 3ë²ˆ ë³´ê³ ì„œ í‹€ì´ ì¡íˆê³ , ì£¼ì˜í•  ì ë„ ì–¸ê¸‰ë©ë‹ˆë‹¤.",
                examples=[
                    "ë¶€ì¥: 'ì¶”ì§„ë°©í–¥ì€ A, B, Cë¡œ êµ¬ë¶„í•´ì„œ ì‘ì„±í•˜ì„¸ìš”'",
                    "â†’ ì´ê²ƒê¹Œì§€ ì¡ì•„ë†“ê³  ì‹œì‘!",
                    "ë³´í†µ ì£¼ì˜í•  ì ë„ ì—¬ê¸°ì„œ ì–¸ê¸‰ (í–¥í›„ ì¼ì •ì€ ì‚¬ì¥ë‹˜ê³¼ ê´€ë ¨ëœ ê±°ë¡œ ë“±)"
                ],
                importance="high"
            )
        ])

        # ì¤‘ìš”ë„ íŒ
        self.tips.extend([
            StudyTip(
                category="ì‘ì„±_ê¸°ë²•",
                title="í™”ì‚´í‘œë‚˜ í•œì ì‚¬ìš©ì€ ì •ì„±í‰ê°€ì— ì˜í–¥ ì—†ìŒ",
                description="ëœ»ì´ í†µí•œë‹¤ë©´ í™”ì‚´í‘œ(â†’)ë‚˜ í•œì ì‚¬ìš©ì€ ê´œì°®ìŠµë‹ˆë‹¤.",
                examples=[
                    "ì—°ëŒ€ì¸í”„ë¼ í™•ì¶© / ì—°ëŒ€ì¸í”„ë¼ å¢ (ì¦ëŒ€í•  ì¦)",
                    "ì‚°í•™ì—° ì—°ê³„ë¥¼ í†µí•œ ê³µê°ëŒ€ í™•ë³´ / ì‚°í•™ì—° ì—°ê³„ â†’ ê³µê°ëŒ€ í™•ë³´"
                ],
                importance="medium"
            ),
            StudyTip(
                category="ì‘ì„±_ê¸°ë²•",
                title="íŠ¹ì • ë‹¨ì–´ ë°˜ë³µì€ ê±°ì˜ ì˜í–¥ ì—†ìŒ",
                description="í•„ìš”/í™•ë³´/ì œê³ /ì¶”ì§„ ë“± íŠ¹ì • ë‹¨ì–´ê°€ ë°˜ë³µë˜ì–´ë„ ê±°ì˜ ì˜í–¥ ì—†ìŠµë‹ˆë‹¤.",
                examples=[
                    "â–¡ ~~~~ê¸°ìˆ ìˆ˜ì¤€ ê²€í†  í•„ìš”",
                    "â—‹ ~~~~~ì¸ì¦ì œ ë„ì… í•„ìš”",
                    "â—‹ ~~~~~~í”Œëœ ìˆ˜ë¦½ í•„ìš”",
                    "â†’ ì´ë ‡ê²Œ 'í•„ìš”'ê°€ ë°˜ë³µë˜ì–´ë„ ëŒ€ë¶€ë¶„ ê°ì  ì—†ìŒ"
                ],
                importance="medium"
            ),
            StudyTip(
                category="ì‘ì„±_ê¸°ë²•",
                title="ê²€í† ë°°ê²½ í‚¤ì›Œë“œê°€ ì „ë¶€ í¬í•¨ë˜ë©´ â–¡ ê°œìˆ˜ ë¬´ê´€",
                description="í‚¤ì›Œë“œê°€ ëª¨ë‘ ë“¤ì–´ìˆìœ¼ë©´ â–¡ë¥¼ ì—¬ëŸ¬ ê°œë¡œ ë‚˜ëˆ„ë“  í•œ ê°œë¡œ í•©ì¹˜ë“  ì˜í–¥ ê±°ì˜ ì—†ìŠµë‹ˆë‹¤.",
                examples=[
                    "ì˜ˆ1) â–¡ ~~~~ê¸°ìˆ ìˆ˜ì¤€ ê²€í†  í•„ìš”\n     â–¡ ~~~~ì´í•´ê´€ê³„ì í˜„í™© ê²€í†  í•„ìš”",
                    "ì˜ˆ2) â–¡ ê¸°ìˆ ìˆ˜ì¤€ ë° ì´í•´ê´€ê³„ì í˜„í™© ê²€í†  í•„ìš”",
                    "â†’ ë‘˜ ë‹¤ ê°€ëŠ¥"
                ],
                importance="medium"
            )
        ])

        # ì €ì¤‘ìš”ë„ íŒ (ê¸ˆì§€ì‚¬í•­)
        self.tips.extend([
            StudyTip(
                category="ê¸ˆì§€ì‚¬í•­",
                title="ê¸ˆì§€ì–´ ì‚¬ìš© ì‹œ ê°ì ",
                description="ëª…í™•Â·ê°„ê²°ì„±ê³¼ ì™„ê²°ì„±ì—ì„œ ì˜ëª»ëœ ë‚´ìš© ê¸°ì¬ ì‹œ ê°ì ë©ë‹ˆë‹¤.",
                examples=[
                    "ë©”ì‹ ì €, ìª½ì§€ ë“±ì—ì„œ ì£¼ì˜í•´ì•¼ í•  ë‚´ìš© í™•ì¸",
                    "ì˜ˆ: '12.13 ì‚¬ì¥ë‹˜ê»˜ ë³´ê³ 'ëŠ” OK, '12.19 BPë°œí‘œ ìë£Œ ì¤€ë¹„'ëŠ” ê¸ˆì§€",
                    "â†’ CEO ì¤‘ì‹¬ì˜ ì¼ì •ìœ¼ë¡œ ì •ë¦¬í•´ì•¼ í•¨"
                ],
                importance="high"
            ),
            StudyTip(
                category="ê¸ˆì§€ì‚¬í•­",
                title="ë””ì§€í„¸ ë‰´ë”œ, í•œêµ­íŒ ë‰´ë”œ ë“± íƒ€ ì‹ ì¬ìƒ ì‚¬ì—… ê´€ë ¨ ê¸ˆì§€",
                description="íƒ€ ì‹ ì¬ìƒ ì‚¬ì—…ê³¼ ê´€ë ¨ ì—†ëŠ” ë‚´ìš©ì€ ì‘ì„±í•˜ì§€ ë§ ê²ƒ",
                examples=[
                    "âŒ ë””ì§€í„¸ ë‰´ë”œ",
                    "âŒ í•œêµ­íŒ ë‰´ë”œ",
                    "âŒ ì½”ë¡œë‚˜ ê´€ë ¨",
                    "âŒ ì¬íƒê·¼ë¬´"
                ],
                importance="high"
            )
        ])

    def get_tips_by_category(self, category: str) -> List[StudyTip]:
        """ì¹´í…Œê³ ë¦¬ë³„ íŒ ì¡°íšŒ"""
        return [tip for tip in self.tips if tip.category == category]

    def get_tips_by_importance(self, importance: str) -> List[StudyTip]:
        """ì¤‘ìš”ë„ë³„ íŒ ì¡°íšŒ"""
        return [tip for tip in self.tips if tip.importance == importance]

    def generate_study_plan(self, weeks: int = 4) -> Dict:
        """ë‹¨ê³„ë³„ í•™ìŠµ ê³„íš ìƒì„±"""

        plan = {
            "ì´_ê¸°ê°„": f"{weeks}ì£¼",
            "ì£¼ì°¨ë³„_ê³„íš": []
        }

        if weeks >= 4:
            plan["ì£¼ì°¨ë³„_ê³„íš"] = [
                {
                    "ì£¼ì°¨": "1ì£¼ì°¨",
                    "ëª©í‘œ": "ì±„ì  ë°©ì‹ ì´í•´ ë° ê¸°ì¶œë¬¸ì œ ë¶„ì„",
                    "í™œë™": [
                        "ì±„ì  ë°©ì‹ ë¬¸ì„œ ì •ë… (OPR ì±„ì ë°©ì‹.pdf)",
                        "ì‘ì„± íŒ ë¬¸ì„œ ì •ë… (OPR ì‘ì„± íŒ.pdf)",
                        "ê¸°ì¶œë¬¸ì œ 3ê°œë…„ ë¶„ì„ (êµ¬ì¡° íŒŒì•…)",
                        "ëª¨ë²”ë‹µì•ˆê³¼ ì±„ì ê¸°ì¤€ ë¹„êµ ë¶„ì„"
                    ],
                    "ì²´í¬í¬ì¸íŠ¸": "ì±„ì  ê¸°ì¤€ 3ê°€ì§€ë¥¼ ë§í•  ìˆ˜ ìˆëŠ”ê°€?"
                },
                {
                    "ì£¼ì°¨": "2ì£¼ì°¨",
                    "ëª©í‘œ": "í‚¤ì›Œë“œ ì¶”ì¶œ ì—°ìŠµ ë° ë¬¸ì œ ë¶„ì„ í›ˆë ¨",
                    "í™œë™": [
                        "ë¬¸ì œì§€ì—ì„œ í‚¤ì›Œë“œ ì¶”ì¶œ ì—°ìŠµ (í˜•ê´‘íœ í™œìš©)",
                        "ì œì‹œìë£Œ ìœ í˜•ë³„ íŠ¹ì§• íŒŒì•… (CEO ë©”ì‹œì§€, ì´ë©”ì¼, ë©”ì‹ ì € ë“±)",
                        "ê¸°ì¶œë¬¸ì œ 1ê°œ ì‹œê°„ì œí•œ ì—†ì´ ì‘ì„±í•´ë³´ê¸°",
                        "ëª¨ë²”ë‹µì•ˆê³¼ ë¹„êµí•˜ì—¬ ë¹ ì§„ í‚¤ì›Œë“œ í™•ì¸"
                    ],
                    "ì²´í¬í¬ì¸íŠ¸": "ì œì‹œìë£Œì—ì„œ í‚¤ì›Œë“œë¥¼ ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆëŠ”ê°€?"
                },
                {
                    "ì£¼ì°¨": "3ì£¼ì°¨",
                    "ëª©í‘œ": "ì‹¤ì „ ì—°ìŠµ ë° ì‹œê°„ ê´€ë¦¬",
                    "í™œë™": [
                        "ê¸°ì¶œë¬¸ì œ 2ê°œ ì‹¤ì „ì²˜ëŸ¼ ì‹œê°„ ë§ì¶° ì‘ì„± (150ë¶„)",
                        "ì‘ì„± í›„ ìŠ¤ìŠ¤ë¡œ ì±„ì í•´ë³´ê¸°",
                        "ë¹ ì§„ í‚¤ì›Œë“œì™€ êµ¬ì¡° ë¬¸ì œ ë¶„ì„",
                        "ìì‹ ë§Œì˜ ë£¨í‹´ í™•ë¦½ (ì˜ˆ: 15ë¶„ ë…í•´ â†’ 10ë¶„ êµ¬ì¡° ì¡ê¸° â†’ 120ë¶„ ì‘ì„± â†’ 5ë¶„ ê²€í† )"
                    ],
                    "ì²´í¬í¬ì¸íŠ¸": "150ë¶„ ë‚´ì— 26ì¤„ ë‹µì•ˆì„ ì™„ì„±í•  ìˆ˜ ìˆëŠ”ê°€?"
                },
                {
                    "ì£¼ì°¨": "4ì£¼ì°¨",
                    "ëª©í‘œ": "ìµœì¢… ì ê²€ ë° ì‹¤ì „ ê°ê° ìœ ì§€",
                    "í™œë™": [
                        "ê¸°ì¶œë¬¸ì œ 2~3ê°œ ì¶”ê°€ ì‹¤ì „ ì—°ìŠµ",
                        "ì•½ì  íŒŒíŠ¸ ì§‘ì¤‘ í›ˆë ¨",
                        "ê²½ì˜ì—°êµ¬ì› ë³´ê³ ì„œ ì½ê¸° (íšŒì‚¬ í˜„ì•ˆ íŠ¸ë Œë“œ íŒŒì•…)",
                        "ìµœì‹  ì „ë ¥ì‚°ì—… ì´ìŠˆ í™•ì¸"
                    ],
                    "ì²´í¬í¬ì¸íŠ¸": "ëª¨ë²”ë‹µì•ˆì— ê°€ê¹Œìš´ ë‹µì•ˆì„ ì‘ì„±í•  ìˆ˜ ìˆëŠ”ê°€?"
                }
            ]
        else:
            # ë‹¨ê¸° í”Œëœ
            plan["ì£¼ì°¨ë³„_ê³„íš"] = [
                {
                    "ì£¼ì°¨": "1ì£¼ì°¨",
                    "ëª©í‘œ": "í•µì‹¬ ì´í•´ ë° ê¸°ë³¸ ì—°ìŠµ",
                    "í™œë™": [
                        "ì±„ì  ë°©ì‹ ë¹ ë¥´ê²Œ ì´í•´",
                        "ê¸°ì¶œë¬¸ì œ 1ê°œ ë¶„ì„",
                        "ê¸°ì¶œë¬¸ì œ 1ê°œ ì‘ì„±"
                    ]
                }
            ]

        return plan

    def generate_writing_checklist(self) -> List[str]:
        """ì‘ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„±"""

        checklist = [
            "â–¡ ë¬¸ì œì§€ ë°›ìœ¼ë©´ ì œëª©ê³¼ ëŒ€ì œëª©ì„ ë¨¼ì € ì‘ì„±í–ˆëŠ”ê°€?",
            "â–¡ CEO ë©”ì‹œì§€ì—ì„œ ì¶”ì§„ë°°ê²½ê³¼ í–¥í›„ ì¼ì •ì„ ì²´í¬í–ˆëŠ”ê°€?",
            "â–¡ ì²˜ì¥/ë¶€ì¥ ì´ë©”ì¼ê³¼ ë©”ì‹ ì €ì—ì„œ ë³´ê³ ì„œ êµ¬ì¡°ë¥¼ í™•ì¸í–ˆëŠ”ê°€?",
            "â–¡ ì œì‹œìë£Œë¥¼ ì½ìœ¼ë©° í‚¤ì›Œë“œì— í˜•ê´‘íœìœ¼ë¡œ í‘œì‹œí–ˆëŠ”ê°€?",
            "â–¡ ëª¨ë“  í‚¤ì›Œë“œë¥¼ ë¬¸ì œì§€ì— ìˆëŠ” ë‹¨ì–´ ê·¸ëŒ€ë¡œ ì‚¬ìš©í–ˆëŠ”ê°€?",
            "â–¡ ê¸ˆì§€ì–´ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ëŠ”ê°€? (ë©”ì‹ ì €/ìª½ì§€ì—ì„œ í™•ì¸)",
            "â–¡ ê° ì¤„ì´ 35ìë¥¼ ì´ˆê³¼í•˜ì§€ ì•Šì•˜ëŠ”ê°€?",
            "â–¡ ì´ 26ì¤„ ì´ë‚´ë¡œ ì‘ì„±í–ˆëŠ”ê°€?",
            "â–¡ ë³´ê³ ì„œ êµ¬ì¡°ê°€ ëª…í™•í•œê°€? (1, 2, 3 â†’ â–¡ â†’ â—‹ â†’ - ìˆœì„œ)",
            "â–¡ CEO ì¤‘ì‹¬ì˜ í–¥í›„ ì¼ì •ì„ ì‘ì„±í–ˆëŠ”ê°€?",
            "â–¡ ë‹¨ìˆœ í‚¤ì›Œë“œ ë‚˜ì—´ì´ ì•„ë‹Œ ë…¼ë¦¬ì  ë¬¸ì¥ì¸ê°€?",
            "â–¡ ì œëª©ì€ 21ì ì´ë‚´ì¸ê°€? (HYí—¤ë“œë¼ì¸M, 21í¬ì¸íŠ¸)"
        ]

        return checklist

    def print_study_guide(self):
        """ê³µë¶€ ê°€ì´ë“œ ì¶œë ¥"""

        print("\n" + "="*70)
        print("ğŸ“š OPR ê³µë¶€ ë…¸í•˜ìš° ê°€ì´ë“œ")
        print("="*70 + "\n")

        # ì±„ì  ë°©ì‹ ì´í•´
        print("ã€1ã€‘ ì±„ì  ë°©ì‹ ì´í•´")
        print("-" * 70)
        print("\nğŸ” ì±„ì ì í™˜ê²½:")
        for key, value in self.grading_insights["ì±„ì ì_í™˜ê²½"].items():
            if isinstance(value, list):
                print(f"  â€¢ {key}:")
                for item in value:
                    print(f"    - {item}")
            else:
                print(f"  â€¢ {key}: {value}")

        print("\nğŸ“Š ì±„ì  ê¸°ì¤€:")
        for criterion, details in self.grading_insights["ì±„ì _ê¸°ì¤€"].items():
            print(f"\n  â€¢ {criterion}:")
            for key, value in details.items():
                print(f"    - {key}: {value}")

        # ê³ ì¤‘ìš”ë„ íŒ
        print("\n\nã€2ã€‘ í•µì‹¬ ì‘ì„± ì „ëµ (í•„ìˆ˜!)")
        print("-" * 70)
        high_tips = self.get_tips_by_importance("high")
        for i, tip in enumerate(high_tips, 1):
            print(f"\n{i}. {tip.title}")
            print(f"   {tip.description}")
            if tip.examples:
                print("   ì˜ˆì‹œ:")
                for example in tip.examples:
                    print(f"   â€¢ {example}")

        # ì¤‘ìš”ë„ íŒ
        print("\n\nã€3ã€‘ ì¶”ê°€ ì‘ì„± íŒ")
        print("-" * 70)
        medium_tips = self.get_tips_by_importance("medium")
        for i, tip in enumerate(medium_tips, 1):
            print(f"\n{i}. {tip.title}")
            print(f"   {tip.description}")

        # í•™ìŠµ ê³„íš
        print("\n\nã€4ã€‘ 4ì£¼ í•™ìŠµ ê³„íš")
        print("-" * 70)
        study_plan = self.generate_study_plan(weeks=4)
        for week_plan in study_plan["ì£¼ì°¨ë³„_ê³„íš"]:
            print(f"\nâ–¶ {week_plan['ì£¼ì°¨']}: {week_plan['ëª©í‘œ']}")
            print("  í™œë™:")
            for activity in week_plan["í™œë™"]:
                print(f"    â€¢ {activity}")
            print(f"  âœ“ ì²´í¬í¬ì¸íŠ¸: {week_plan['ì²´í¬í¬ì¸íŠ¸']}")

        # ì‘ì„± ì²´í¬ë¦¬ìŠ¤íŠ¸
        print("\n\nã€5ã€‘ ì‹œí—˜ ë‹¹ì¼ ì²´í¬ë¦¬ìŠ¤íŠ¸")
        print("-" * 70)
        checklist = self.generate_writing_checklist()
        for item in checklist:
            print(f"  {item}")

        print("\n" + "="*70)
        print("ğŸ’¡ í•µì‹¬ ìš”ì•½: ì œì‹œë¬¸ì˜ í‚¤ì›Œë“œë¥¼ ê·¸ëŒ€ë¡œ, ìµœëŒ€í•œ ë§ì´ ì‚¬ìš©í•˜ë¼!")
        print("="*70 + "\n")


def demo_study_guide():
    """ê³µë¶€ ê°€ì´ë“œ ë°ëª¨"""

    guide = StudyGuideSystem()
    guide.print_study_guide()

    # JSON íŒŒì¼ë¡œ ì €ì¥
    study_data = {
        "ì±„ì _ë°©ì‹": guide.grading_insights,
        "ì‘ì„±_ì „ëµ": guide.writing_strategies,
        "í•™ìŠµ_íŒ": [
            {
                "ì¹´í…Œê³ ë¦¬": tip.category,
                "ì œëª©": tip.title,
                "ì„¤ëª…": tip.description,
                "ì˜ˆì‹œ": tip.examples,
                "ì¤‘ìš”ë„": tip.importance
            }
            for tip in guide.tips
        ],
        "í•™ìŠµ_ê³„íš": guide.generate_study_plan(weeks=4),
        "ì²´í¬ë¦¬ìŠ¤íŠ¸": guide.generate_writing_checklist()
    }

    with open("/home/user/test/study_guide.json", "w", encoding="utf-8") as f:
        json.dump(study_data, f, ensure_ascii=False, indent=2)

    print("âœ… í•™ìŠµ ê°€ì´ë“œê°€ study_guide.json íŒŒì¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.")


if __name__ == "__main__":
    demo_study_guide()
